<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>页面换肤</title>
		<link rel="stylesheet" href="css/work03.css" />
	</head>
	<script>
	    window.onload=function(){
	    	
			var color=document.getElementById('div');
	        var span=document.getElementsByTagName('span');
	        var txt=document.getElementById('div3');
	        if(!window.localStorage){
				console.log('该浏览器不支持localStorage!');
			}
	        else{
                var changeColor=function(event){
	        	    var col=event.target.style.backgroundColor;
	        	    txt.style.backgroundColor=col;
	        	    if(localStorage.colorCount){
	        		    localStorage.colorCount=Number(localStorage.colorCount)+1;
	        	    }else{
	        		    localStorage.colorCount=1
	        	    };
	                localStorage[localStorage.colorCount]=col;
	                for(var i=0;i<span.length;i++){
	            	    span[i].className=''
	                }
	                event.target.className='top';
	            };
	            if(localStorage.colorCount){
	        	    txt.style.backgroundColor=localStorage[localStorage.colorCount]
	            }else{
	        	    txt.style.backgroundColor='gray';
	            }
	            for(var i=0;i<6;i++){
	        	    span[i].addEventListener('click',changeColor);
	            };
	        }
	    }    
	</script>
	<body>
		<fieldset id="div1">
            <legend>页面换肤</legend>
            <fieldset id="div2">
            	<div id="div">
            	<span style="background-color: gray;"></span>
            	<span style="background-color: plum;"></span>
            	<span style="background-color: red;" ></span>
            	<span style="background-color: deepskyblue;" ></span>
            	<span style="background-color: orangered;" ></span>
            	<span style="background-color: greenyellow;" ></span>
            	</div>
            </fieldset>
            <div id="div3"  style="background-color: gray;">
            	<h3>LocalStorage将数据保存在客户端本地的硬件设备中，即使浏览器被关闭了，
                                该数据仍然存在，下次打开浏览器访问网站时仍然可以继续使用。</h3>
            </div>
        </fieldset>
	</body>
</html>
